SSO_ENABLED=false

# =====================================================
# SSO Configuration (IdP-Initiated Only)
# =====================================================
# Mode: User HARUS login ke SSO Portal dahulu
# Flow: SSO Portal → Klik Doors → Auto-login
# =====================================================

# Aktifkan SSO (set true setelah konfigurasi selesai)
SSO_ENABLED=true

# URL Verifikasi yang SUDAH VALID (menggunakan api.sso...)
SSO_TOKEN_VERIFY_URL=https://api.sso.dharmap.com/api/user

# URL Halaman Login (menggunakan sso biasa...)
SSO_BASE_URL=https://sso.dharmap.com

# Auto-Provisioning Settings
SSO_ENABLE_AUTO_PROVISION=true  # Auto-create user jika NPK belum ada
SSO_ENABLE_AUTO_UPDATE=true      # Auto-update user info setiap login
SSO_DEFAULT_ROLE=Karyawan        # Role default untuk user baru

# =====================================================
# Attribute Mapping
# =====================================================
# Sesuaikan dengan response dari SSO server
# Jika field name berbeda, ubah di sini

SSO_ATTR_NPK=npk              # Field untuk NPK/Employee ID
SSO_ATTR_NAME=full_name       # Field untuk nama lengkap (full_name di JSON)
SSO_ATTR_EMAIL=email          # Field untuk email
SSO_ATTR_DEPARTMENT=department
SSO_ATTR_JOB_TITLE=position   # Field untuk position (position di JSON)

# =====================================================
# Role Mapping (Optional)
# =====================================================
# Konfigurasi di config/sso.php jika perlu custom mapping
# berdasarkan department atau job title

# =====================================================
# NOTES:
# =====================================================
# 1. Minta IT untuk:
#    - Register Doors di SSO Portal
#    - Setup redirect: https://doors.dharmap.com?sso_token={TOKEN}
#    - Kasih akses ke endpoint /api/verify
#
# 2. SSO Portal harus kirim token dalam salah satu format:
#    - Query parameter: ?sso_token=xxx
#    - Header: Authorization: Bearer xxx
#    - Cookie: sso_token=xxx
#
# 3. Response dari /api/verify harus berformat:
#    {
#      "npk": "12345678",
#      "name": "John Doe",
#      "email": "john.doe@dharmap.com",
#      "department": "IT",
#      "job_title": "Software Engineer"
#    }
# =====================================================
